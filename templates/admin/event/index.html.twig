{% extends "base.admin.html.twig" %}

    {% block body %}

        <h3>Evenements du site</h3>
        <div class="col-12 d-flex justify-content-center">
            <a class="btn btn-primary" href="{{ path('event_create')}}">Ajouter une évènement</a>
        </div>
        <div class="table-responsive">
            <table id="dataTable" class="table table-striped table-sm">
                <thead>
                    <tr>
                        <th>Id</th>
                        <th>Titre</th>
                        <th>Catégorie</th>
                        <th>Debut</th>
                        <th>Fin</th>
                        <th>Ville</th>
                        <th>Détail</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for event in events %}
                    <tr>
                        <th>{{event.id}}</th>
                        <th>{{event.title}}</th>
                        <th>{{event.category.name }}</th>
                        <th>{{event.startedAt | date('Y-m-d H:i') }}</th>
                        <th>{{event.endedAt | date('Y-m-d H:i') }}</th>
                        <th>{{event.localisation.cityName}}</th>
                        <th><a href="{{path('event_show',{event_id:event.id})}}">Editer</a></th>
                        <th>
                            <a href="{{path('event_edit',{event_id:event.id})}}">Editer</a>
                            <a href="{{path('event_delete',{event_id:event.id})}}">Supprimer</a>
                        </th>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        </div>
    {% endblock %}
    {% block javascripts %}
        {{parent()}}
        <script type="text/javascript" src="https://cdn.datatables.net/v/dt/jq-3.2.1/dt-1.10.16/datatables.min.js"></script>
        <script type="text/javascript" src="/script/renderTable.js"></script>
    {% endblock %}

